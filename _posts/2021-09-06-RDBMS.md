---
title: "관계형 데이터베이스"
excerpt: "feat. MySQL"

categories:
  - TIL
tags:
  - [, ]

toc: true
toc_sticky: true

date: 2021-09-06
last_modified_at: 2021-09-06
---

관계형 데이터 베이스 시스템은 테이블 단위로 데이터를 관리합니다. 하나의 테이블은 여러개의 컬럼 형태로 구성됩니다.

## SQL(Structerd Query Language)

SQL은 데이터베이스에 존재하는 정보를 사용할 수 있는 언어로 모든 DBMS는 동일한 SQL을 사용합니다(일부 SQL은 DBMS에 종속적). SQL은 대소문자를 구분하지 않습니다(데이터의 대소문자는 구분). SQL은 크게 DCL, DDL, DML로 구분됩니다.

### DDL(Data Definition Language)

데이터 베이스 객체의 구조를 정의(테이블의 구조를 생성, 변경, 제거등)
|SQL문|설명|
|---|---|
|CREATE|데이터베이스 객체 생성|
|DROP|데이터베이스 객체 삭제|
|ALTER|데이터베이스 객체 수정|
|RENAME|데이터베이스 객체 이름 변경|

### DML(Data Manipulation Language)

테이블의 레코드 CRUD를 수행하는 구문들
|SQL문|설명|
|---|---|
|INSERT|데이터 입력|
|SELECT|데이터 조회|
|UPDATE|데이터 수정|
|DELETE|데이터 삭제|

### DCL(Data Control Language)

데이터베이스와 그 구조에 대한 접근 권한을 제공하거나 제거하는 구문들
|SQL문|설명|
|---|---|
|GRANT|데이터베이스 객체에 권한을 부여|
|REVOKE|데이터베이스 객체 권한 취소|

### TCL(Transaction Control Language)

데이터베이스의 논리적 연산 단위인 트랜잭션을 제어하는 구문
모든 DML작업은 데이터를 하드가 아닌 메모리에 있는 테이블에서 조작 메모리에서 변경사항을 하드디스크에 반영하는 것이 commit
|SQL문|설명|
|---|---|
|COMMIT|실행한 Query를 최종적으로 적용|
|ROLLBACK|실행한 Query를 마지막 commit 전으로 취소시켜 데이터를 복구|

## 주요 데이터 타입

문자형

| 데이터 유형  | 정의                         | 크기    |
| ------------ | ---------------------------- | ------- |
| CHAR[(M)]    | 고정 길이를 갖는 문자열 저장 | 1~255   |
| VARCHAR[(M)] | 가변 길이를 갖는 문자열 저장 | 1~65535 |
| TEXT[(M)]    | 고정 길이를 갖는 문자열 저장 | 1~65535 |

숫자형

| 데이터 유형 | 바이트 | 크기 |
| ----------- | ------ | ---- |
| INT[(M)]    |
| DOUBLE[(M)] |
| FLOAT[(M)]  |

날짜형

| 데이터 유형    | 바이트                                                 | 정의                |
| -------------- | ------------------------------------------------------ | ------------------- |
| DATETIME       | 8                                                      | YYYY-MM-DD HH:MM:SS |
| TIMESTAMP[(M)] | 1970-01-01~2030-01-19까지 지원, INDEX가 더 빠르게 생성 |

TIMESTAMP의 경우 타임존의 영향을 받음, 한국에서 저장한 시간은 미국에서 볼때 미국 기준으로 변경됨

이진 데이터형
|데이터 유형|정의|크기|
|---|---|---|
|BLOB[(M)]|이진 데이터 타입|최대 65535byte|

## 데이터베이스의 무결성 유지

자식 테이블이 가르키는 부모 테이블의 레코드가 삭제 되었을때, 참조 무결성이 위반되므로 삭제를 못하도록 합니다. 삭제를 하기 위해서는 외래키 등록시 on delete cascade/set null 등의 옵션을 달아주어야 합니다.
