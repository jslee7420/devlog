---
title: "Secure Coding"
excerpt: "정보보안은 개발단계에서부터"

categories:
  - 보안
tags:
  - [보안]

toc: true
toc_sticky: true

date: 2021-11-13
last_modified_at: 2021-11-13
---

## 1. 시큐어(secure coding) 코딩이란?

개발자의 실수나 논리적 오류로 인해 SW에 내포될 수 있는 보안취약점을 배제하여 안전한 소프트웨어를 개발하는 SW개발 기법

## 2. 시큐어 코딩 가이드

취약점을 모두 고려하는 프로그래밍이란 어려운 일.

어떠한 규칙에 따라 코딩을 하면 되는지에 대한 기준이 있으면 좋을 것.

국내에서는 2012년 12월부터 행정안전부에 의해 시큐어 코딩에 대한 법규가 제정, 시행되어 그 기준을 제시 중(대한민국의 모든 행정기관 및 공공기관 정보시스템은 해당 가이드 준수 의무가 있음)

다음과 같이 50개의 소프트웨어 보안 약점 항목으로 구성

![소프트웨어 개발 보안 가이드](https://imghub.insilicogen.com/media/photos/127073038-91f2ab3c-600a-4dea-9c62-cbd2a05a20b9.png)

JAVA 시큐어코딩 가이드 문서 다운로드 링크: https://www.kisa.or.kr/public/laws/laws3_View

### 1. 입력데이터 검증 및 표현

프로그램 입력값에 대한 검증 누락 또는 부적절한 검증, 데이터의 잘못된 형식 지정으로 발생하는 보안 약점.(SQL 삽입, 자원 삽입, 크로스사이트 스크립트 등 26개 항목 존재)

폼 양식의 입력란에 입력되는 데이터로 인해 발생하는 문제를 예방하기 위해 점검하는 보안 항목으로 주로 SQL Injection 공격을 막기 위한 코딩

자세한 내용은 Database의 SQL Injection관련 글 참조

### 2. 보안기능

보안인증(인증, 접근제어, 기밀성, 암호화, 권한관리 등)을 적절하지 안헥 구현시 발생할 수 있느 보안약점.(부적적한 인가, 중요정보 평문 저장 또는 전송 등 24개 항목 존재)

주로 암호와 같이 중요한 정보를 암호화 없이 저장하거나 프로그램 내부에 하드 코딩되어 노출의 위험성이 있거나 인증과 권한 관리를 부적절하게 구현할 시 보안에 문제가 발생

보안 기능은 비인가 접근을 방어하고 저장된 정보를 암호화하여 취약한 기능이 존재하지 않도록 하는 것이 중요

### 3. 시간 및 상태

동시 또는 거의 동시 수행을 지원하는 병렬 시스템, 하나 이상의 프로세스가 동작하는 환경에서 시간 및 상태를 부적절하게 관리하여 발생할 수 있는 보안약점(경쟁조건, 제어문을 사용하지 않는 재귀함수 등 7개 항목 존재)

Race Condition 이나 종료되지 않는 반복문이나 재귀문을 사용하여 무한루프에 빠지는 것 등이 시간 및 상태 점검 항목에 포함

### 4. 에러 처리

에러를 처리하지 않거나, 불충부누하게 처리하여 에러정보에 중요정보(시스템 등)가 포함될 때 발생할 수 있는 보안약점.(취약한 패스워드 요구조건 오류메세지를 통한 정보노출 등 4개)

종종 개발자가 디버깅의 편의성을 위해 에러 메시지를 화면에 출력하는 경우가 있다. 에러 메시지는 시스템과 관련된 중요 정보를 포함하는 경우가 많아 공격자의 악성 행위를 도울 수 있다. 또한, 오류가 발생할 상황을 적절하게 검사하지 않았거나 잘못된 처리를 한 경우도 에러 처리 항목에 포함된다. 에러 처리는 가능한 최소한의 정보만을 담고 있어야 하며, 광범위한 예외 처리보다는 구체적인 예외 처리를 통해 보안 공격을 사전에 방어하는 것이 중요하다.

### 5. 코드오류

타입변환 오류, 자원(메모리 등)의 부적절한 반환 등과 같이 개발자가 범할 수 있는 코딩오류로 인해 유발되는 보안 약점(널 포인터 역참조, 부적절하나 자원 해제 등 7개)

주로 형(Type) 변환 오류, 자원 반환, NullPointer 참조가 이에 해당한다. Null 값을 체크하지 않고 변수를 사용한다든가 실수로 스레드와 같은 자원을 무한하게 할당하여 시스템에 부하를 주는 경우가 있다.

### 6. 캡슐화

중요한 데이터 또는 기능성을 불충분하게 캡슐화하였을 때, 인가되지 않는 사용자에게 데이터 노출이 가능해지는 보안약점(제거되지 않고 남은 디버그 코드, 시스템 데이터 정보노출 등 8개)

부적절한 캡슐화는 정보은닉의 기능을 잃어버린다. 시스템의 중요 정보가 노출되어 공격자는 이 정보를 이용해 식별 과정을 우회할 수 있다. 변수 제어 함수가 노출된다면 공격자는 원하는 값으로 데이터를 외부에서 수정할 수 있게 된다.

### 7. API 오용

의도된 사용에 반하는 방법으로 API를 사용하거나, 보안에 취약한 API를 사용하여 발생할 수 있는 보안약점(DNS Lookup에 의존한 보안결정, 널 매개변수 미조사 등 7개)

만약 공격자에 의해 로컬 DNS 캐시가 오염된 상황에서 DNS만 확인한다면 공격자의 네트워크로 경유하거나 공격자의 서버를 도착지로 인식할 수 있다. 이를 방지하기 위해 보안에 취약한 API 사용은 피해야 하며 DNS가 아닌 IP를 확인하는 것이 중요
